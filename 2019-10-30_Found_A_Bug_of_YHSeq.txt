[[ユーザーブログ:Hexirp/Y数列 Hexirp 版|Y数列 Hexirp 版]]にバグが見つかった。現在定義されている全てのバージョン ([[ユーザーブログ:Hexirp/Y数列 Hexirp 版 0.0|0.0]], [[ユーザーブログ:Hexirp/Y数列 Hexirp 版 1.0|1.0]], [[ユーザーブログ:Hexirp/Y数列 Hexirp 版 1.1|1.1]]) に存在している。

このバグにより、山を構成する箇所の <math> D _ S ( x, n ) </math> と <math> P _ S ( x, n ) </math> の値が、深さが大きいところでおかしくなってしまっていた。具体的な例を一つ上げると、 <math> D _ { ( 1, 2 ) } ( 2, 3 ) </math> は 0 になることが期待されていたが 1 になってしまう。

原因は、一つ上の深さでの親が 0 を指していたら 0 にするというルールが、数式に組み込まれていなかったことにある。私が計算する際は無意識的にこのルールを適用していたため、プログラムとして記述してテストするまで気づけなかったのである。

必要だったルールを具体的に書くと「 <math> P _ S ( x, n ^ - ) \neq 0 \land D _ S ( P _ S ( x, n ^ - ), n ^ - ) = 0 </math> のとき <math> D _ S ( x, n ) = 0 </math> である」となる。

このルールは 0 であるときは例外的なのだから差分を取れないという意味を与えており、ノートでルールを考えていたときはこれも含んでいた。しかし、ブログに投稿する作業の途中で抜け落ちてしまったようである。

== 関連項目 ==

* [[ユーザーブログ:Hexirp/Y数列 Hexirp 版]]

== 外部リンク ==

* [https://github.com/Hexirp/yhseq/issues/1 山の構成においてのバグ · Issue #1 · Hexirp/yhseq]
